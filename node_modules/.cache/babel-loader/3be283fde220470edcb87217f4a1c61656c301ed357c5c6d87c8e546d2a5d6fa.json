{"ast":null,"code":"const {\n  Pool\n} = require('pg');\nconst pool = new Pool({\n  user: 'root',\n  host: 'localhost',\n  database: 'bearing',\n  password: 'root',\n  port: 5432\n});\nexport async function getBrands() {\n  const query = 'SELECT id, name FROM brand';\n  const result = await pool.query(query);\n  return result.rows;\n}\nexport async function getBearings() {\n  const query = `\n        SELECT bearings.name AS name,\n               brand.name    AS brand,\n               bearings.count AS count,\n               bearings.price AS price,\n               bearings.inner_diameter,\n               bearings.outer_diameter,\n               bearings.height,\n               type.name AS type,\n               country.name AS country\n        FROM bearings\n                 JOIN brand ON bearings.brand_id = brand.id\n                 JOIN type ON bearings.type_id = type.id\n                 JOIN country ON bearings.country_id = country.id\n    `;\n  const result = await pool.query(query);\n  return result.rows;\n}","map":{"version":3,"names":["Pool","require","pool","user","host","database","password","port","getBrands","query","result","rows","getBearings"],"sources":["/home/zhenyafka/WebstormProjects/bearing/src/db.tsx"],"sourcesContent":["import {Bearings, Brands} from \"./tables\";\nconst { Pool } = require('pg');\n\nconst pool = new Pool({\n    user: 'root',\n    host: 'localhost',\n    database: 'bearing',\n    password: 'root',\n    port: 5432,\n});\n\n\nexport async function getBrands(): Promise<Brands[]> {\n    const query = 'SELECT id, name FROM brand';\n    const result = await pool.query(query);\n    return result.rows as Brands[];\n}\n\nexport async function getBearings(): Promise<Bearings[]> {\n    const query = `\n        SELECT bearings.name AS name,\n               brand.name    AS brand,\n               bearings.count AS count,\n               bearings.price AS price,\n               bearings.inner_diameter,\n               bearings.outer_diameter,\n               bearings.height,\n               type.name AS type,\n               country.name AS country\n        FROM bearings\n                 JOIN brand ON bearings.brand_id = brand.id\n                 JOIN type ON bearings.type_id = type.id\n                 JOIN country ON bearings.country_id = country.id\n    `;\n    const result = await pool.query(query);\n    return result.rows as Bearings[];\n}"],"mappings":"AACA,MAAM;EAAEA;AAAK,CAAC,GAAGC,OAAO,CAAC,IAAI,CAAC;AAE9B,MAAMC,IAAI,GAAG,IAAIF,IAAI,CAAC;EAClBG,IAAI,EAAE,MAAM;EACZC,IAAI,EAAE,WAAW;EACjBC,QAAQ,EAAE,SAAS;EACnBC,QAAQ,EAAE,MAAM;EAChBC,IAAI,EAAE;AACV,CAAC,CAAC;AAGF,OAAO,eAAeC,SAASA,CAAA,EAAsB;EACjD,MAAMC,KAAK,GAAG,4BAA4B;EAC1C,MAAMC,MAAM,GAAG,MAAMR,IAAI,CAACO,KAAK,CAACA,KAAK,CAAC;EACtC,OAAOC,MAAM,CAACC,IAAI;AACtB;AAEA,OAAO,eAAeC,WAAWA,CAAA,EAAwB;EACrD,MAAMH,KAAK,GAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;EACD,MAAMC,MAAM,GAAG,MAAMR,IAAI,CAACO,KAAK,CAACA,KAAK,CAAC;EACtC,OAAOC,MAAM,CAACC,IAAI;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}